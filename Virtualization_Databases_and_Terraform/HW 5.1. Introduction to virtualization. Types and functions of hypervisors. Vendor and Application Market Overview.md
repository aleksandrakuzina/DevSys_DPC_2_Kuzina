### Задача 1

### Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

> паравиртуализация - представляет собой модифицированное ядро гостевой ОС, в которую включается новый набор API через который она может напрямую работать с
аппаратурой, не конфликтуя с другими виртуальными машинами. Такм образом представляет возможность более быстрой работы и снижения накладных расходов на виртуализацию.

> при полной виртуализации немодифицированная гостевая ОС работает полностью изолированно, а для поддержки работы этих гостевых ОС служит общий слой эмуляции их исполнения поверх хостовой ОС.

> виртуализация на основе ОС - подразумевается использование одного ядра хостовой ОС для создания независимых паралельно работающих сред. Гостевая ОС должна совпадать с архитектурой хостовой ОС. (чаще о виртуализации на основе ОС говорят о контейнеризации)


### Задача 2

### Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

> Организация серверов:

    > физические сервера,
    > паравиртуализация,
    > виртуализация уровня ОС.
	
*P.S.физические сервера - подразумевается полная виртуализация на физических серверах, а не физические сервера с обычной ОС без виртуализации.
Условия использования:*

    Высоконагруженная база данных, чувствительная к отказу. - 
	физические сервера (преимущество в скорости ("ближе к железу"), надежности (из-за использования гипервизора совместно с кластеризацией уменьшаются точки отказа), должно использоваться кластерное решение, чтобы небыло единой точки отказа в виде гипервизора)
    из коммерческих решений подойдет VMWare, т.к. представляется как основа для кластеризации и обеспечения отказоустойчивости, где плюсом 
   
	
    Различные web-приложения - Паравиртуализация в общем случае работает быстрее, так как нет накладных расходов на ненужную эмуляцию.
    также можно рассмотреть приватные облака Open source, если приложение требует повышенный уровень безопасности. 
	
    Windows системы для использования бухгалтерским отделом - 
    виртуализация уровня ОС - подходит возможность создания виртуальных машин только с Windows системами, где сторонние приложения могут запускаться в контейнерах без необходимости модификации. 

	паравиртуализации(Hyper-V) для создания snapshoot c возможснотью расширения ресурсов виртуальной машины. 
	из коммерческиз решений - Hyper-V от Microsoft, встроен непосредственно в Windows Server, где из преимуществ масштабируемость системы и упрощеное управление устройствами
		
    Системы, выполняющие высокопроизводительные расчеты на GPU - 
    физические сервера (с графическими картами GPU) также необходимо кластерное решение, где важна скрость обработки ввода/вывода, повышенная надежность. Для аппаратнх расчетов требуется максимальный доступ к аппаратным ресурсам.
    из Open source подойдет Xen PV (как паравиртуализация) что дает хорошую стабильность системе.

### Задача 3

### Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

### Сценарии:

    100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, 
    репликации данных и автоматизированного механизма создания резервных копий.
    
    Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
    
    Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
    
    Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
	
> Для Windows based инфраструктуры подойдет MS Hyper-V решение, т.к. совместим с инфрастртуктурой MS и имеется широкий функционал в виде балансировщиков, репликация и автоматизированного механизма резервных копий. 

> Из наиболее производительного бесплатного решения Open Source подойдет KVM для небошой виртуализации (20-30 серверов) linux и windows, т.к. возможно использование любых гостевых ОС.

> Из производительного бесплатного решения Open Source подойдет Xen PV (паравиртуализация), т.к. наиболее совместима с windows, а также  по умолчанию запускается с ядром linux.

> для тетирования можно рассмотреть облачные сервисы такие как AWS, т.к. требуется низкий порог для использования и поддержки тестирования инфраструктуры.

### Задача 4

### Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Гетерогенная среда виртуализации представляет собой совмещение нескольких инструментов виртуализации, я бы выбрала такой вариант: Virtual Box + vagrat.
При таком наборе инструменты не конфликтуют, более того, помогают в работе. Например на virtual Box с помощью vagrant возможно автоматизированное развертывание виртуальных машин с определенным набором параметров, что существенно сокращает время. 

Из проблем, можно выделить недостаточную реализацию взаимодействия сервисов виртуализации с ОС, напрмрер Docker в Windows требовал включить гипервизор Hyper V, но VirtureBox 5.x не будет запускаться, пока Hype V активен, такая проблема решалась через разработчиков docker и windows и решилась путем установки эмулятора wsl. Поэтому в данном  случае docker + virtualBox 5.x получился неэффективной гетерогенной средой. в virtualBox 6.x уже проблема устранена.

Docker для virtual Box по сути является инструментом для развертывания виртуальных машин, а docker в основном работает с контейнерами (содержат только пользовательское пространство), которые представляют собой теже самые VM но разница только в том, что они используют ядро хост-системы совместно с другими контейнерами.


### Допустим, в компании часть серверов работа под VMware Sphere, а часть под Hyper-V. Какие недостатки и преимуществу будут при таком подходе?

Преимущества в том, что каждый сервис имеет свои плюсы и минусы и проблемы в одном сервисе не повлияют 
на второй, поэтому при сочетании двух разных архитектур виртуализации есть возможность использовать все
возможности каждой под большее количество разнообразных сервисов.
Например для VMware Sphere необходимы более высококвалифицированные инженера, поэтому на два 
сервиса (один сложней другой проще) требуется как минимум один квалифицированный инженер. 
Инструменты живой миграции есть только в Hyper-V что необходимо для высокодоступных сервисах.

Недостаток в том, что сервера работают под разными архитекутарми микроядерная и монолитная, поэтому
повышаются силы и затраты на их одновременное обслуживание. 
Разница между архитектурами в том, что при микроядерной архитектуре драйвера на устройства устанавливаются внутри 
родительской ОС (хостовой).Теперь родительская виртуалка, единственная имеет доступ к оборудованию 
сервера, а выделением остальных возможностей занимается гипервизор.Таким образом гипервизор 
микроядерной архитектуры имеет совместимость почти с любым оборудованием.
Гипервизоры монолитной архитектуры включают драйверы аппаратных устройств в свой код, что не так 
безопасно, зато повышается производительрность, т.к драйверы находятся ближе к "железу" без 
дополнительных слоев.
